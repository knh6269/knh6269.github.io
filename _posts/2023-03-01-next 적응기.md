---
layout: post
title: "next ì ì‘ê¸°"
date: 2023-03-01 21:30:18 +0900
tags: [react, next]
categories: next
---

# ì†Œê°œ
nextì— ëŒ€í•œ ë‚´ìš©ë“¤ì„ ì •ë¦¬í•˜ëŠ” ê¸€

---

## nextë€?
reactë¡œ ë§Œë“œëŠ” ì„œë²„ì‚¬ì´ë“œ rendering í”„ë ˆì„ì›Œí¬ 

---

## í”„ë ˆì„ì›Œí¬ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì°¨ì´ì 
> ë¼ì´ë¸ŒëŸ¬ë¦¬ : ì‚¬ìš©ìê°€ íŒŒì¼ ì´ë¦„ì´ë‚˜ êµ¬ì¡° ë“±ì„ ì •í•˜ê³ , ëª¨ë“  ê²°ì •ì„ ë‚´ë¦¼ 
 
> í”„ë ˆì„ì›Œí¬ : íŒŒì¼ ì´ë¦„ì´ë‚˜ êµ¬ì¡°ë“±ì„ ì •í•´ì§„ ê·œì¹™ì— ë”°ë¼ ë§Œë“¤ê³  ë”°ë¦„ 

```
ë‚´ê°€ ë§Œë“¤ì§€ ì•Šì€ ì½”ë“œë¥¼ "ê°€ì§€ê³  ì™€ì„œ" ë‚´ê°€ ë¬´ì–¸ê°€ Customizeë¥¼ í•˜ê³  ìˆë‹¤ë©´ ğŸ‘‰ LIbrary.

ë‚´ê°€ ì•½ì†ëœ íŠ¹ì • ì˜ì—­ì— ì½”ë“œë¥¼ ì§œë‹ˆê¹Œ, ê·¸ ì½”ë“œë¥¼ "ê°€ì§€ê³  ê°€ì„œ" ì•Œì•„ì„œ ë­”ê°€ ëšë”± ë§Œë“¤ì–´ì¤€ë‹¤ë©´? ğŸ‘‰ Framework.
```

---

## route ê²°ì • ê¸°ì¤€ 
`pages`í´ë” ì•ˆì— ìˆëŠ” íŒŒì¼ëª…ì— ë”°ë¼ `route`ê°€ ê²°ì •ëœë‹¤. [`index.js` ì œì™¸]

---
## _App.js
`Next`ëŠ” `App` ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜ì´ì§€ë¥¼ ì´ˆê¸°í™”í•œë‹¤.

ìµœ ìƒë‹¨ ì»´í¬ë„ŒíŠ¸ë‹¤.

---
# ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(SSR)
`í´ë¼ì´ì–¸íŠ¸ ë Œë”ë§`ê³¼ ë‹¤ë¥´ê²Œ `ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§`ì„ í•œ í˜ì´ì§€ì˜ ì†ŒìŠ¤ë¥¼ ë³´ë©´ `html` ì½”ë“œê°€ ìˆë‹¤.<br/> 
>  ìœ ì €ë“¤ì€ ë°ì´í„° ë¡œë”©ì „ì— `html` ëŠ” ë¯¸ë¦¬ ë³¼ ìˆ˜ ìˆë‹¤!
<div>
    <img src = 'https://user-images.githubusercontent.com/44117975/222147512-0cd3d7cc-1d1c-4c39-81bf-737357988b77.png'/>
</div>

---
## í”„ë¡œì íŠ¸ ìƒì„± 
```
npx create-next-app@latest myProject
cd myProject
npm run dev
```
---

## `<Link>`
`<Link>`íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ `url`ë¥¼ í™œìš©í•´ í™”ë©´ ì „í™˜ì´ ê°€ëŠ¥í•˜ë‹¤.
- useRouter()
    - ì•±ì˜ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ `router` ê°ì²´ ë‚´ë¶€ì— ì ‘ê·¼í•˜ê¸°ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ 
    
``` javascript
import Link from "next/link";
import { useRouter } from "next/router";

export default function NavBar() {
  const router = useRouter();
  return (
    <nav>
      <Link href="/">
        <a style={{ color: router.pathname === "/" ? "red" : "blue" }}>Home</a>
      </Link>
      <Link href="/about">
        <a style={{ color: router.pathname === "/about" ? "red" : "blue" }}>
          About
        </a>
      </Link>
    </nav>
  );
}
```
---
 ## next/head
 `react-helmet` ì—­í• ì„ ê°„í¸í•˜ê²Œ í•´ì£¼ëŠ” `next/head` ë¼ì´ë¸ŒëŸ¬ë¦¬
 ```javascript
 //defaultHead.js
import Head from "next/head";

export default function defaultHead({ title }) {
  return (
    <Head>
      <title>{title} | Next Movies</title>
    </Head>
  );
}
 ```
```javascript
// Home.js
import defaultHead from "../components/defaultHead";

export default function Home() {
  return (
    <div>
      <defaultHead title="Home" />
      <h1 className="active">Hello</h1>
    </div>
  );
}
```

---
## redirects
`source` í˜ì´ì§€ë¡œ ì´ë™í–ˆì„ ê²½ìš°, `destination` í˜ì´ì§€ë¡œ ì „í™˜ì‹œí‚¨ë‹¤.

ë³€ê²½ì„ ìœ„í•´ì„œëŠ” `next.config.js`ì˜ ì½”ë“œë¥¼ ë³€ê²½í•´ì•¼í•œë‹¤.

- source 
    - ë“¤ì–´ì˜¤ëŠ” request ê²½ë¡œ íŒ¨í„´
- destination
    - ë¼ìš°íŒ…í•˜ë ¤ëŠ” ê²½ë¡œ
- permanent
    - true : í´ë¼ì´ì–¸íŠ¸ì™€ ê²€ìƒ‰ ì—”ì§„ì— redirectë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ìºì‹œí•˜ë„ë¡ ì§€ì‹œ
    - false : ì¼ì‹œì ì´ê³  ìºì‹œí•˜ì§€ ì•Šë„ë¡ ì§€ì‹œ

``` javascript
//next.config.js
const nextConfig = {
  async redirects() {
    return [
      {
        source : "/register",
        destination : "/register/info/id",
        permanent: false,
      },
    ];
  }
}
```
---
## rewrites
ë“¤ì–´ì˜¤ëŠ” ê²½ë¡œë¥¼ ë‹¤ë¥¸ `destination` ê²½ë¡œë¡œ ë§¤í•‘í•œë‹¤.

    Rewritesì€ URL í”„ë¡ì‹œ ì—­í• ì„ í•˜ê³  destination ê²½ë¡œë¥¼ maskí•˜ì—¬ ì‚¬ìš©ìê°€ ì‚¬ì´íŠ¸ì—ì„œ ìœ„ì¹˜ë¥¼ ë³€ê²½í•˜ì§€ ì•Šì€ ê²ƒì²˜ëŸ¼ ë³´ì´ê²Œ í•©ë‹ˆë‹¤. 

    ë°˜ëŒ€ë¡œ redirectsì€ ìƒˆ í˜ì´ì§€ë¡œ rerouteë˜ê³  URL ë³€ê²½ ì‚¬í•­ì„ í‘œì‹œí•©ë‹ˆë‹¤.

ì•„ë˜ ì½”ë“œëŠ” `fetch api` ì£¼ì†Œë¥¼ ìœ ì €ì—ê²ŒëŠ” `/api/market`ì´ë¼ëŠ” ì£¼ì†Œì²˜ëŸ¼ ë³´ì´ê²Œí•œ ê²ƒ ì…ë‹ˆë‹¤. (`ì‹¤ì œ api ì£¼ì†ŒëŠ” ì•„ë‹™ë‹ˆë‹¤`)

```javascript
//next.config.js
async rewrites() {
    return [
      {
        source: "/api/market",
        destination: `https://api.homeple.org/Daegu`,
      },
    ];
  }
```
